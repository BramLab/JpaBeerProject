

Cascade:

Keep session in service: findById & update (object might change by someone else before own changes committed.
Maybe get separately after findById?

Show all Beers should show categories & brewers, so bypass lazy loading.
-> Eager (always)? is only ManyToOne => not breaking but less beautiful: when showing category.findById also the beers are show, and there the categories are redundantly shown again.



 Optionele uitbreidingen
• H2 in-memory database voor testen

• Abstracte BaseRepository<T> bouwen


• Lazy-loading elegant oplossen
Optimised version by AI:
https://claude.ai/chat/3e5aaab5-b436-4c5f-b2df-4a4b29da6a8f
for (Field field : entity.getClass().getDeclaredFields()) {
    if (Arrays.stream(field.getAnnotations())
            .anyMatch(a -> a.annotationType().getSimpleName().contains("LAZY"))) {

        String getterName = "get" +
            field.getName().substring(0, 1).toUpperCase() +
            field.getName().substring(1);

        try {
            Method getter = entity.getClass().getDeclaredMethod(getterName);
            List<?> result = (List<?>) getter.invoke(entity);
            result.size(); // Force lazy loading
        } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {
            throw new RuntimeException(e);
        }
    }
}


• @NamedQuery gebruiken
https://stackoverflow.com/questions/33236664/difference-between-query-native-query-named-query-and-typed-query

• Command pattern toepassen in MainApp

• Logging (Log4j/SLF4J) toevoegen

• JSON import/export voor bieren
